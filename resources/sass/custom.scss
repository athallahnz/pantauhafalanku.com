/* ============================================================
   SISTEM INFORMASI HAFALAN SANTRI – COREUI PREMIUM THEME
   Brand: Departemen Al-Qur'an (Ungu + Tosca)
   FINAL VERSION — COREUI SAFE
============================================================ */

/* ============================================================
   1. GLOBAL VARIABLES
============================================================ */

:root {
    /* SIDEBAR */
    --sidebar-active-bg: linear-gradient(135deg, #40307a 0%, #5640a5 100%);
    --sidebar-active-border: #13a3b3;
    --sidebar-active-color: #ffffff;

    --sidebar-dark: linear-gradient(135deg, #40307a 0%, #0f7f8c 100%);
    --sidebar-header: #5640a5;

    /* ISLAMIC COLOR SYSTEM */

    --islamic-purple-50: #f4f1ff;
    --islamic-purple-100: #ebe6ff;
    --islamic-purple-200: #d6ccff;
    --islamic-purple-300: #b7a8ff;
    --islamic-purple-400: #917aff;
    --islamic-purple-500: #6b4eff;
    --islamic-purple-600: #5640a5;
    --islamic-purple-700: #40307a;

    --islamic-tosca-50: #edfafa;
    --islamic-tosca-100: #d4f4f6;
    --islamic-tosca-200: #a9e7ec;
    --islamic-tosca-300: #6fd5dc;
    --islamic-tosca-400: #39c1cc;
    --islamic-tosca-500: #13a3b3;
    --islamic-tosca-600: #0f7f8c;

    /* CoreUI sync */
    --app-sidebar-margin: var(--cui-sidebar-narrow-width, 4.5rem);
}

/* ============================================================
   COREUI SIDEBAR PRIMARY OVERRIDE
============================================================ */

.sidebar {
    --cui-sidebar-bg: #5640a5;
    --cui-sidebar-color: rgba(255, 255, 255, 0.85);

    --cui-sidebar-hover-bg: rgba(0, 0, 0, 0.08);
    --cui-sidebar-hover-color: #ffffff;

    --cui-sidebar-active-bg: #40307a;
    --cui-sidebar-active-color: #ffffff;

    --cui-sidebar-brand-bg: #5640a5;
}

/* ------------------------------------------------------------ 3. SIDEBAR BRAND: LOGO + TEXT (FULL MODE) ------------------------------------------------------------ */
.sidebar-logo-img {
    width: 28px;
    height: 28px;
    object-fit: contain;
    display: block;
}
.sidebar-brand-text .brand-line-1 {
    font-size: 0.85rem;
    font-weight: 600;
    line-height: 1.1;
}
.sidebar-brand-text .brand-line-2 {
    font-size: 1rem;
    font-weight: 700;
    margin-top: -2px;
    line-height: 1.1;
}

/* =========================================================
   BUTTON LIGHT VARIANT — ISLAMIC DESIGN SYSTEM
   fully compatible CoreUI / Bootstrap
========================================================= */

/* Base light button */
.btn-light {
    background-color: var(--islamic-purple-50);
    color: var(--islamic-purple-700);
    border: 1px solid var(--islamic-purple-200);

    transition: all 0.2s ease;
}

/* Hover */
.btn-light:hover {
    background-color: var(--islamic-purple-100);
    color: var(--islamic-purple-700);
    border-color: var(--islamic-purple-300);
}

/* Focus */
.btn-light:focus {
    background-color: var(--islamic-purple-100);
    color: var(--islamic-purple-700);
    border-color: var(--islamic-purple-400);

    box-shadow: 0 0 0 0.2rem rgba(107, 78, 255, 0.15);
}

/* Active / pressed */
.btn-light:active,
.btn-light.active {
    background-color: var(--islamic-purple-200);
    border-color: var(--islamic-purple-400);
    color: var(--islamic-purple-700);
}

/* Optional: icon sync */
.btn-light i,
.btn-light .icon {
    color: var(--islamic-purple-600);
}

/* =========================================================
   BUTTON OUTLINE LIGHT VARIANT — ISLAMIC DESIGN SYSTEM
   fully compatible CoreUI / Bootstrap
========================================================= */

/* Base outline */
.btn-outline-light {
    background-color: transparent;
    color: var(--islamic-purple-50);
    border: 1px solid var(--islamic-purple-300);

    transition: all 0.2s ease;
}

/* Hover */
.btn-outline-light:hover {
    background-color: var(--islamic-purple-50);
    color: var(--islamic-purple-700);
    border-color: var(--islamic-purple-400);
}

/* Focus */
.btn-outline-light:focus {
    background-color: var(--islamic-purple-50);
    color: var(--islamic-purple-700);
    border-color: var(--islamic-purple-500);

    box-shadow: 0 0 0 0.2rem rgba(107, 78, 255, 0.15);
}

/* Active / pressed */
.btn-outline-light:active,
.btn-outline-light.active,
.btn-outline-light.dropdown-toggle.show {
    background-color: var(--islamic-purple-100);
    color: var(--islamic-purple-700);
    border-color: var(--islamic-purple-500);
}

/* Disabled */
.btn-outline-light:disabled,
.btn-outline-light.disabled {
    color: var(--islamic-purple-300);
    border-color: var(--islamic-purple-200);
    background-color: transparent;
}

/* Icon sync */
.btn-outline-light i,
.btn-outline-light .icon {
    color: var(--islamic-purple-500);
}

/* Icon hover sync */
.btn-outline-light:hover i,
.btn-outline-light:hover .icon {
    color: var(--islamic-purple-600);
}

/* =========================================================
   NAV PILLS LIGHT — ISLAMIC DESIGN SYSTEM
   CoreUI compatible
========================================================= */

/* default */
.nav-pills .nav-link {
    // background-color: var(--islamic-purple-50);
    color: var(--islamic-purple-50);
    border: 1px solid var(--islamic-purple-200);
    border-radius: 8px;

    margin-right: 4px;

    transition: all 0.2s ease;
}

/* hover */
.nav-pills .nav-link:hover {
    background-color: var(--islamic-purple-100);
    color: var(--islamic-purple-700);
    border-color: var(--islamic-purple-300);
}

/* active */
.nav-pills .nav-link.active,
.nav-pills .show > .nav-link {
    background-color: var(--islamic-purple-600);
    color: #ffffff;
    border-color: var(--islamic-purple-600);

    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
}

/* focus */
.nav-pills .nav-link:focus {
    box-shadow: 0 0 0 0.15rem rgba(107, 78, 255, 0.15);
}

/* ------------------------------------------------------------
   SIDEBAR NAV HOVER WHITE BACKGROUND
------------------------------------------------------------ */

.sidebar-nav .nav-link {
    color: rgba(255, 255, 255, 0.75);
    border-radius: 10px;
    transition: all 0.18s ease;
}

/* HOVER WHITE BG */
.sidebar-nav .nav-link:hover {
    background: #ffffff !important;
    color: #1e293b !important;
}

/* icon ikut berubah */
.sidebar-nav .nav-link:hover .nav-icon {
    color: #1e293b !important;
}

/* ACTIVE tetap prioritas */
.sidebar-nav .nav-link.active {
    background: var(--sidebar-active-bg) !important;
    border-left: solid var(--sidebar-active-border);
    color: var(--sidebar-active-color) !important;
}

/* ACTIVE icon */
.sidebar-nav .nav-link.active .nav-icon {
    color: var(--sidebar-active-border) !important;
}

/* ============================================ 5. SIDEBAR BRAND – LOGO ONLY ============================================ */ /* Default: Expanded */
.sidebar .sidebar-brand-logo img {
    width: 88px; /* ukuran besar */
    height: auto;
    transition: all 0.25s ease-in-out;
    max-width: 100%; /* allow bigger */
}
.sidebar .sidebar-brand-logo {
    width: 100%;
    display: flex;
    justify-content: center;
}

/* COLLAPSED MODE — ANY NARROW STATE */
.sidebar.sidebar-narrow .sidebar-brand-logo img,
.sidebar.sidebar-narrow:not(.sidebar-narrow-hover) .sidebar-brand-logo img,
.sidebar.sidebar-narrow-unfoldable.sidebar-narrow .sidebar-brand-logo img {
    width: 44px !important;
    height: auto;
}

/* COLLAPSED HOVER → kembali besar */
.sidebar.sidebar-narrow.sidebar-narrow-hover .sidebar-brand-logo img,
.sidebar.sidebar-narrow-unfoldable.sidebar-narrow:hover
    .sidebar-brand-logo
    img {
    width: 88px !important;
    height: auto;
}

.sidebar .nav-title {
    color: rgba(255, 255, 255, 0.55);
}

.sidebar .nav-link .nav-icon {
    color: rgba(255, 255, 255, 0.7);
}

.sidebar .nav-link.active .nav-icon {
    color: #13a3b3;
}

/* ============================================================
   5. WRAPPER SHIFT
============================================================ */

@media (min-width: 992px) {
    .sidebar ~ .wrapper {
        margin-left: var(--app-sidebar-margin);
        transition: margin-left 0.25s ease;
    }
}

/* ============================================================
   6. HEADER
============================================================ */

.header {
    position: relative;
    z-index: 1030;

    background: #fff;

    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.body {
    padding-top: 0.5rem;
    padding-bottom: 1.5rem;
}

/* ============================================================
   7. MAIN BACKGROUND
============================================================ */

.main-content-bg {
    position: relative;

    z-index: 0;

    min-height: 100%;

    padding: 20px 0 30px;

    overflow: hidden;

    background:
        radial-gradient(
            circle at 15% 20%,
            rgba(19, 163, 179, 0.08),
            transparent 45%
        ),
        radial-gradient(
            circle at 85% 80%,
            rgba(86, 64, 165, 0.1),
            transparent 45%
        ),
        linear-gradient(
            135deg,
            var(--islamic-purple-50),
            var(--islamic-purple-100),
            var(--islamic-tosca-50),
            #f8fbff
        );
}

/* animated pattern */

.main-content-bg::before {
    content: "";

    position: absolute;
    inset: -200px;

    z-index: -1;

    pointer-events: none;

    background-image: url("data:image/svg+xml,%3Csvg width='150' height='150' viewBox='0 0 120 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%235b3fc4' stroke-width='2' opacity='0.08'%3E%3Cpolygon points='60,0 78,18 102,18 102,42 120,60 102,78 102,102 78,102 60,120 42,102 18,102 18,78 0,60 18,42 18,18 42,18'/%3E%3C/g%3E%3C/svg%3E");

    background-size: 120px;

    animation: patternMove 160s linear infinite;
}

@keyframes patternMove {
    0% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(120px, 60px, 0);
    }
    100% {
        transform: translate3d(0, 0, 0);
    }
}

/* ============================================================
   8. CONTENT CARD
============================================================ */

.content-card {
    position: relative;

    z-index: 1;

    background: rgba(255, 255, 255, 0.92);

    backdrop-filter: blur(12px);

    border-radius: 18px;

    border: 1px solid rgba(86, 64, 165, 0.08);

    box-shadow:
        0 10px 30px rgba(86, 64, 165, 0.1),
        0 4px 10px rgba(0, 0, 0, 0.04);

    transition: all 0.3s ease;
}

.content-card:hover {
    box-shadow:
        0 18px 45px rgba(86, 64, 165, 0.15),
        0 6px 16px rgba(0, 0, 0, 0.06);
}

/* prevent click blocking */

.content-card::before,
.content-card::after {
    pointer-events: none;
}

/* ============================================================
   9. DROPDOWN — COREUI SAFE FIX
============================================================ */

.header .dropdown-menu {
    border: none;
    border-radius: 14px;
    padding: 8px 0;

    box-shadow:
        0 10px 25px rgba(0, 0, 0, 0.08),
        0 4px 10px rgba(0, 0, 0, 0.04);

    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.9);

    margin-top: 10 !important;
    top: calc(100%) !important;

    opacity: 0;
    transform: translateY(10px) scale(0.96);

    transform-origin: top right;

    visibility: hidden;
    pointer-events: none;

    transition:
        opacity 0.22s ease,
        transform 0.22s cubic-bezier(0.22, 0.61, 0.36, 1),
        visibility 0.22s;
}

/* COREUI adds .show directly here */
.header .dropdown-menu.show {
    opacity: 1;
    transform: translateY(0) scale(1);

    visibility: visible;
    pointer-events: auto;
    // animation: dropdownBounce 0.28s cubic-bezier(0.22, 0.61, 0.36, 1);
}

/* dropdown header */
.header .dropdown-header {
    padding: 12px 16px;

    background: linear-gradient(
        135deg,
        rgba(91, 63, 196, 0.07),
        rgba(19, 163, 179, 0.07)
    );
}

/* dropdown item */
.header .dropdown-item {
    padding: 10px 16px;
    border-radius: 10px;

    margin: 0; /* penting */

    transition: all 0.18s ease;
}

.header .dropdown-item:hover {
    background: transparent;
    padding: 10px 16px;

    box-shadow: inset 0 0 0 999px rgba(91, 63, 196, 0.08);

    border-radius: 10px;
}

/* avatar animation */
.header .avatar {
    transition: all 0.25s ease;
}

.header .nav-link:hover .avatar {
    // transform: scale(1.08);

    box-shadow: 0 0 0 4px rgba(91, 63, 196, 0.12);
}

@keyframes dropdownBounce {
    0% {
        transform: translateY(8px) scale(0.96);
    }

    60% {
        transform: translateY(-2px) scale(1.02);
    }

    100% {
        transform: translateY(0) scale(1);
    }
}

/* ============================================================
   10. CARD
============================================================ */

.card {
    border-radius: 12px;

    border: none;

    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.card:hover {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
}

.card-header {
    font-weight: 600;

    background: linear-gradient(
        90deg,
        var(--islamic-purple-600),
        var(--islamic-purple-400)
    );

    color: white;
}

/* ============================================================
   11. BADGE ROLE
============================================================ */

.badge-role {
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 0.5rem;
    color: white;
}

.badge-role.ADMIN {
    background: #6f5efb;
}
.badge-role.SUPERADMIN {
    background: #ff5e5e;
}
.badge-role.PIMPINAN {
    background: #6c757d;
}
.badge-role.SANTRI {
    background: #ffc107;
}
.badge-role.MUSYRIF {
    background: #20c997;
}

/* ============================================================
   12. MODAL — FINAL COREUI FIX
============================================================ */

.modal-backdrop {
    z-index: 1990 !important;

    pointer-events: auto !important;

    background: linear-gradient(
        135deg,
        rgba(64, 48, 122, 0.55),
        rgba(19, 163, 179, 0.45)
    );
}

.modal-backdrop.show {
    opacity: 0.35 !important;
}

.modal {
    position: fixed;

    z-index: 2000 !important;
}

.modal-dialog {
    transition: all 0.25s ease;

    transform: scale(0.96) translateY(10px);
}

.modal.show .modal-dialog {
    transform: scale(1) translateY(0);
}

.modal-content {
    border: none;

    border-radius: 16px;

    background: rgba(255, 255, 255, 0.96);

    backdrop-filter: blur(12px);

    box-shadow:
        0 20px 60px rgba(64, 48, 122, 0.25),
        0 10px 25px rgba(0, 0, 0, 0.08);
}

.modal-header {
    border: none;

    background: linear-gradient(
        90deg,
        var(--islamic-purple-600),
        var(--islamic-tosca-500)
    );

    color: white;
}

.modal-header .btn-close {
    filter: invert(1);
}

.modal-footer {
    border: none;
}
